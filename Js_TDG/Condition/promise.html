<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        function marryPromise(money , car){
            return new Promise((resolve, reject)=>{
                if(money < 2000){
                    reject({
                        name:'Alex',
                        message:" would consider to stay with you"
                    })
                }
                if(car == undefined){
                    reject({
                        name:'Weddy',
                        message:" like to marry with you"
                    })
                }
                else{
                    resolve("I will marry with you")
                }
            })
        }

        marryPromise(1000, 1)
        .then((resolve_argument)=> {
            const resolve_array = [...resolve_argument]
            console.log(resolve_array)
        })
        .catch((reject_argument)=>{
            console.log(reject_argument.name + reject_argument.message + ' , not me!')
        })

//////////////////////////////////////////////////////////////////
        function matchPromise(){
            return new Promise((resolve, reject)=>{
                resolve("We are matched")
            })
        }
///////////////////////////////////////////////////////////////////////
        //The resolved value of the promise is treated as the return value 
        //of the await expression.
        async function Marry(){
            try{
                const filter_result = await marryPromise(3000,2)
                console.log(`Finishing filteration: ${filter_result}`)
                const filter_match = await matchPromise()
                console.log(`Completely over: ${filter_match}`)
            }
            catch(err){
                let errMessage = []
                for(let errMessage of Object.values(err)){
                    console.log(errMessage)
                }
            }
        }
        Marry()

    </script>
    
</body>
</html>